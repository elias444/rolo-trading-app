<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolo AI Trading</title>
    <style>
        body { 
            margin: 0; 
            font-family: system-ui, sans-serif; 
        }
        #root { 
            width: 100vw; 
            height: 100vh; 
        }
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 18px;
            flex-direction: column;
        }
        .spinner {
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 4px solid white;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">
            <div class="spinner"></div>
            <div>üöÄ Loading Rolo AI Trading...</div>
        </div>
    </div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const RoloApp = () => {
          const [currentTab, setCurrentTab] = React.useState('chat');
          const [ticker, setTicker] = React.useState('');
          const [messages, setMessages] = React.useState([
            {
              id: 1,
              type: 'assistant',
              content: "Hello! I'm Rolo, your AI-powered trading assistant. I'm connected to live market data and ready to help you analyze stocks, find options plays, and learn your trading style. What would you like to explore today?",
              timestamp: new Date()
            }
          ]);
          const [inputMessage, setInputMessage] = React.useState('');
          const [isTyping, setIsTyping] = React.useState(false);
          const [apiConnected, setApiConnected] = React.useState(false);
          const [stockData, setStockData] = React.useState({});
          const [currentAnalysis, setCurrentAnalysis] = React.useState(null);
          const [watchlists, setWatchlists] = React.useState({
            'Main Portfolio': ['SPY', 'QQQ', 'AAPL'],
            'Growth Stocks': ['TSLA', 'NVDA'],
            'Tech': ['MSFT', 'GOOGL']
          });
          const [activeWatchlist, setActiveWatchlist] = React.useState('Main Portfolio');
          const [newWatchlistName, setNewWatchlistName] = React.useState('');
          const [showNewWatchlistInput, setShowNewWatchlistInput] = React.useState(false);
          const [newTickerInput, setNewTickerInput] = React.useState('');
          const [isLoadingStock, setIsLoadingStock] = React.useState(false);
          const [apiError, setApiError] = React.useState(null);
          const [openMenus, setOpenMenus] = React.useState({});
          const [openWatchlistMenus, setOpenWatchlistMenus] = React.useState({});
          const [analysisResults, setAnalysisResults] = React.useState({});

          React.useEffect(() => {
            setTimeout(() => {
              setApiConnected(true);
              loadWatchlistData();
            }, 2000);
          }, []);

          const loadWatchlistData = async () => {
            const allTickers = Object.values(watchlists).flat();
            const uniqueTickers = [...new Set(allTickers)];
            
            for (const symbol of uniqueTickers.slice(0, 5)) {
              await fetchRealStockData(symbol, false);
              await new Promise(resolve => setTimeout(resolve, 200));
            }
          };

          const fetchRealStockData = async (symbol, showLoading = true) => {
            if (showLoading) setIsLoadingStock(true);
            setApiError(null);

            try {
              const response = await fetch(`/.netlify/functions/stock-data?symbol=${symbol}`);
              
              if (!response.ok) {
                throw new Error(`API error: ${response.status}`);
              }
              
              const data = await response.json();
              
              if (data.error && !data.fallback) {
                throw new Error(data.error);
              }
              
              setStockData(prev => ({
                ...prev,
                [symbol]: data
              }));

              return data;
            } catch (error) {
              console.error('Error fetching stock data:', error);
              setApiError('Using demo data - API temporarily unavailable');
              
              const mockData = {
                price: (Math.random() * 100 + 200).toFixed(2),
                change: (Math.random() * 10 - 5).toFixed(2),
                changePercent: (Math.random() * 4 - 2).toFixed(2),
                volume: (Math.random() * 50 + 10).toFixed(1),
                high: (Math.random() * 100 + 220).toFixed(2),
                low: (Math.random() * 100 + 180).toFixed(2),
                open: (Math.random() * 100 + 200).toFixed(2),
                prevClose: (Math.random() * 100 + 200).toFixed(2),
                isLive: false
              };
              
              setStockData(prev => ({
                ...prev,
                [symbol]: mockData
              }));
              
              return mockData;
            } finally {
              if (showLoading) setIsLoadingStock(false);
            }
          };

          const sendToClaudeAPI = async (message) => {
            try {
              const response = await fetch('/.netlify/functions/claude-chat', {
                method: 'POST',
                headers: { 
                  'Content-Type': 'application/json',
                  'Accept': 'application/json'
                },
                body: JSON.stringify({ message })
              });

              if (!response.ok) {
                throw new Error(`HTTP ${response.status}`);
              }

              const data = await response.json();
              return data.response;
              
            } catch (error) {
              console.error('Claude API error:', error);
              return `ü§ñ Rolo here! I'm ready to help with trading analysis. Try asking me about any stock ticker or trading concept!`;
            }
          };

          const handleSendMessage = async () => {
            if (!inputMessage.trim()) return;

            const newMessage = {
              id: messages.length + 1,
              type: 'user',
              content: inputMessage,
              timestamp: new Date()
            };

            setMessages([...messages, newMessage]);
            const userQuery = inputMessage;
            setInputMessage('');
            setIsTyping(true);

            try {
              const aiResponse = await sendToClaudeAPI(userQuery);
              
              const responseMessage = {
                id: messages.length + 2,
                type: 'assistant',
                content: aiResponse,
                timestamp: new Date()
              };

              setMessages(prev => [...prev, responseMessage]);
            } catch (error) {
              const errorMessage = {
                id: messages.length + 2,
                type: 'assistant',
                content: "I'm here to help with trading analysis! Ask me about any stock or trading concept.",
                timestamp: new Date()
              };
              setMessages(prev => [...prev, errorMessage]);
            } finally {
              setIsTyping(false);
            }
          };

          const handleTickerSubmit = async () => {
            if (!ticker.trim()) return;
            
            const symbol = ticker.toUpperCase();
            const stockInfo = await fetchRealStockData(symbol);
            
            if (stockInfo) {
              const analysis = generateAnalysis(symbol, stockInfo);
              setCurrentAnalysis(analysis);
              
              setAnalysisResults(prev => ({
                ...prev,
                [symbol]: analysis
              }));
            }
          };

          const generateAnalysis = (symbol, stockInfo) => {
            const priceChange = parseFloat(stockInfo.change);
            const volume = parseFloat(stockInfo.volume);
            const price = parseFloat(stockInfo.price);
            
            const isBullish = priceChange > 0;
            const highVolume = volume > 20;
            const confidence = Math.min(95, Math.max(60, 70 + (Math.abs(priceChange) * 5) + (highVolume ? 10 : 0)));
            
            return {
              confidence: Math.floor(confidence),
              recommendation: isBullish ? 'BULLISH' : 'BEARISH',
              reasoning: `${symbol} showing ${isBullish ? 'positive' : 'negative'} momentum with ${stockInfo.changePercent}% change. Volume: ${stockInfo.volume}M ${highVolume ? '(Above Average)' : '(Normal)'}. Price action suggests ${isBullish ? 'continued strength' : 'potential weakness'}.`,
              technicalScore: Math.floor(60 + Math.random() * 30),
              sentimentScore: Math.floor(65 + Math.random() * 25),
              priceTargets: {
                support: (price * 0.95).toFixed(2),
                resistance: (price * 1.05).toFixed(2)
              }
            };
          };

          const createNewWatchlist = () => {
            if (newWatchlistName.trim() && !watchlists[newWatchlistName]) {
              setWatchlists(prev => ({
                ...prev,
                [newWatchlistName]: []
              }));
              setActiveWatchlist(newWatchlistName);
              setNewWatchlistName('');
              setShowNewWatchlistInput(false);
            }
          };

          const deleteWatchlist = (watchlistName) => {
            if (Object.keys(watchlists).length > 1) {
              const newWatchlists = { ...watchlists };
              delete newWatchlists[watchlistName];
              setWatchlists(newWatchlists);
              
              if (activeWatchlist === watchlistName) {
                setActiveWatchlist(Object.keys(newWatchlists)[0]);
              }
            }
          };

          const addTickerToWatchlist = async () => {
            if (newTickerInput.trim()) {
              const symbol = newTickerInput.toUpperCase();
              if (!watchlists[activeWatchlist].includes(symbol)) {
                setWatchlists(prev => ({
                  ...prev,
                  [activeWatchlist]: [...prev[activeWatchlist], symbol]
                }));
                
                await fetchRealStockData(symbol, false);
              }
              setNewTickerInput('');
            }
          };

          const removeTickerFromWatchlist = (symbol) => {
            setWatchlists(prev => ({
              ...prev,
              [activeWatchlist]: prev[activeWatchlist].filter(ticker => ticker !== symbol)
            }));
            setOpenMenus({});
          };

          const toggleMenu = (symbol) => {
            setOpenMenus(prev => ({
              ...prev,
              [symbol]: !prev[symbol]
            }));
          };

          const toggleWatchlistMenu = (watchlistName) => {
            setOpenWatchlistMenus(prev => ({
              ...prev,
              [watchlistName]: !prev[watchlistName]
            }));
          };

          const closeAllMenus = () => {
            setOpenMenus({});
            setOpenWatchlistMenus({});
          };

          const getHighConfidencePlays = () => {
            const plays = [];
            Object.entries(analysisResults).forEach(([symbol, analysis]) => {
              if (analysis.confidence >= 75 && stockData[symbol]) {
                const stock = stockData[symbol];
                plays.push({
                  symbol,
                  type: analysis.recommendation === 'BULLISH' ? 'Call' : 'Put',
                  strike: Math.floor(parseFloat(stock.price) * (analysis.recommendation === 'BULLISH' ? 1.02 : 0.98)),
                  dte: Math.floor(Math.random() * 3),
                  confidence: analysis.confidence,
                  reason: analysis.reasoning.slice(0, 60) + '...',
                  realData: stock,
                  currentPrice: stock.price,
                  changePercent: stock.changePercent
                });
              }
            });
            
            const defaultPlays = [
              { symbol: 'SPY', type: 'Call', strike: 580, dte: 0, confidence: 85, reason: 'Strong momentum, breaking resistance', currentPrice: '579.45', changePercent: '0.65' },
              { symbol: 'QQQ', type: 'Call', strike: 500, dte: 1, confidence: 82, reason: 'Tech sector strength', currentPrice: '499.23', changePercent: '1.2' },
              { symbol: 'AAPL', type: 'Put', strike: 235, dte: 2, confidence: 78, reason: 'Overbought conditions', currentPrice: '236.10', changePercent: '-0.8' }
            ];
            
            return plays.length > 0 ? plays.slice(0, 5) : defaultPlays;
          };

          const renderChat = () => (
            <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>
              <div style={{ 
                padding: 'clamp(8px, 2vw, 12px)', 
                fontSize: 'clamp(12px, 3vw, 14px)', 
                backgroundColor: apiConnected ? '#dcfce7' : '#fef3c7', 
                color: apiConnected ? '#166534' : '#92400e' 
              }}>
                <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)' }}>
                  <div style={{ 
                    width: 'clamp(6px, 2vw, 8px)', 
                    height: 'clamp(6px, 2vw, 8px)', 
                    backgroundColor: apiConnected ? '#22c55e' : '#eab308', 
                    borderRadius: '50%' 
                  }}></div>
                  <span>{apiConnected ? '‚úÖ Rolo Online: Real APIs ‚Ä¢ Alpha Vantage ‚Ä¢ Claude AI' : 'üîÑ Rolo starting up...'}</span>
                </div>
              </div>

              <div style={{ flex: 1, overflowY: 'auto', padding: 'clamp(12px, 4vw, 16px)' }}>
                {messages.map((message) => (
                  <div key={message.id} style={{ 
                    display: 'flex', 
                    justifyContent: message.type === 'user' ? 'flex-end' : 'flex-start', 
                    marginBottom: 'clamp(12px, 4vw, 16px)' 
                  }}>
                    <div style={{
                      maxWidth: '85%',
                      padding: 'clamp(10px, 3vw, 12px)',
                      borderRadius: 'clamp(6px, 2vw, 8px)',
                      backgroundColor: message.type === 'user' ? '#7c3aed' : '#f3f4f6',
                      color: message.type === 'user' ? 'white' : '#1f2937',
                      fontSize: 'clamp(14px, 3.5vw, 16px)',
                      lineHeight: '1.4'
                    }}>
                      <div style={{ whiteSpace: 'pre-line' }}>{message.content}</div>
                      {message.type === 'assistant' && (
                        <div style={{ 
                          display: 'flex', 
                          alignItems: 'center', 
                          marginTop: 'clamp(6px, 2vw, 8px)', 
                          fontSize: 'clamp(11px, 2.5vw, 12px)', 
                          color: '#6b7280' 
                        }}>
                          <span>üß† Rolo AI ‚Ä¢ Live Analysis</span>
                        </div>
                      )}
                    </div>
                  </div>
                ))}
                
                {isTyping && (
                  <div style={{ display: 'flex', justifyContent: 'flex-start', marginBottom: 'clamp(12px, 4vw, 16px)' }}>
                    <div style={{ backgroundColor: '#f3f4f6', padding: 'clamp(10px, 3vw, 12px)', borderRadius: 'clamp(6px, 2vw, 8px)' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)' }}>
                        <div style={{ display: 'flex', gap: 'clamp(3px, 1vw, 4px)' }}>
                          <div style={{ width: 'clamp(6px, 2vw, 8px)', height: 'clamp(6px, 2vw, 8px)', backgroundColor: '#7c3aed', borderRadius: '50%' }}></div>
                          <div style={{ width: 'clamp(6px, 2vw, 8px)', height: 'clamp(6px, 2vw, 8px)', backgroundColor: '#7c3aed', borderRadius: '50%' }}></div>
                          <div style={{ width: 'clamp(6px, 2vw, 8px)', height: 'clamp(6px, 2vw, 8px)', backgroundColor: '#7c3aed', borderRadius: '50%' }}></div>
                        </div>
                        <span style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280' }}>Rolo is analyzing...</span>
                      </div>
                    </div>
                  </div>
                )}
              </div>
              
              <div style={{ padding: 'clamp(12px, 4vw, 16px)', borderTop: '1px solid #e5e7eb', backgroundColor: 'white' }}>
                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: 'clamp(6px, 2vw, 8px)' }}>
                  <span style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280' }}>üé§ Rolo AI</span>
                  <span style={{ fontSize: 'clamp(10px, 2.5vw, 12px)', color: '#6b7280' }}>üß† Live: {apiConnected ? 'ACTIVE' : 'CONNECTING'}</span>
                </div>
                <div style={{ display: 'flex' }}>
                  <input
                    type="text"
                    value={inputMessage}
                    onChange={(e) => setInputMessage(e.target.value)}
                    onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                    placeholder="Ask Rolo about stocks..."
                    style={{
                      flex: 1,
                      padding: 'clamp(10px, 3vw, 12px)',
                      border: '1px solid #d1d5db',
                      borderRadius: 'clamp(6px, 2vw, 8px) 0 0 clamp(6px, 2vw, 8px)',
                      outline: 'none',
                      fontSize: 'clamp(14px, 3.5vw, 16px)'
                    }}
                  />
                  <button
                    onClick={handleSendMessage}
                    disabled={isTyping}
                    style={{
                      backgroundColor: isTyping ? '#9ca3af' : '#7c3aed',
                      color: 'white',
                      padding: 'clamp(10px, 3vw, 12px) clamp(12px, 4vw, 16px)',
                      border: 'none',
                      borderRadius: '0 clamp(6px, 2vw, 8px) clamp(6px, 2vw, 8px) 0',
                      cursor: isTyping ? 'not-allowed' : 'pointer',
                      fontSize: 'clamp(14px, 4vw, 16px)'
                    }}
                  >
                    {isTyping ? '‚è≥' : '‚û§'}
                  </button>
                </div>
              </div>
            </div>
          );

          const renderTicker = () => (
            <div style={{ padding: 'clamp(12px, 4vw, 16px)', overflowY: 'auto' }}>
              <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', marginBottom: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                <h3 style={{ fontSize: 'clamp(16px, 4vw, 18px)', fontWeight: 'bold', marginBottom: 'clamp(12px, 4vw, 16px)' }}>Real-Time Stock Analysis</h3>
                <div style={{ display: 'flex', gap: 'clamp(6px, 2vw, 8px)' }}>
                  <input
                    type="text"
                    value={ticker}
                    onChange={(e) => setTicker(e.target.value.toUpperCase())}
                    onKeyPress={(e) => e.key === 'Enter' && handleTickerSubmit()}
                    placeholder="Enter ticker (SPY, QQQ...)"
                    style={{
                      flex: 1,
                      padding: 'clamp(10px, 3vw, 12px)',
                      border: '1px solid #d1d5db',
                      borderRadius: 'clamp(6px, 2vw, 8px)',
                      outline: 'none',
                      fontSize: 'clamp(14px, 3.5vw, 16px)'
                    }}
                  />
                  <button 
                    onClick={handleTickerSubmit}
                    disabled={isLoadingStock}
                    style={{
                      backgroundColor: isLoadingStock ? '#9ca3af' : '#7c3aed',
                      color: 'white',
                      padding: 'clamp(10px, 3vw, 12px) clamp(12px, 4vw, 16px)',
                      border: 'none',
                      borderRadius: 'clamp(6px, 2vw, 8px)',
                      cursor: isLoadingStock ? 'not-allowed' : 'pointer',
                      fontSize: 'clamp(16px, 4vw, 18px)'
                    }}
                  >
                    {isLoadingStock ? '‚è≥' : 'üîç'}
                  </button>
                </div>
                {apiError && (
                  <div style={{ marginTop: 'clamp(8px, 2vw, 10px)', padding: 'clamp(8px, 2vw, 10px)', backgroundColor: '#fee2e2', borderRadius: 'clamp(4px, 1.5vw, 6px)', fontSize: 'clamp(12px, 3vw, 14px)', color: '#dc2626' }}>
                    ‚ö†Ô∏è {apiError}
                  </div>
                )}
              </div>

              {ticker && stockData[ticker] && (
                <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', marginBottom: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 'clamp(12px, 4vw, 16px)' }}>
                    <h4 style={{ fontSize: 'clamp(18px, 5vw, 20px)', fontWeight: 'bold', margin: 0 }}>{ticker}</h4>
                    <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)' }}>
                      <div style={{ width: 'clamp(10px, 3vw, 12px)', height: 'clamp(10px, 3vw, 12px)', backgroundColor: '#22c55e', borderRadius: '50%' }}></div>
                      <span style={{ fontSize: 'clamp(10px, 2.5vw, 12px)', color: '#6b7280' }}>Live Data</span>
                    </div>
                  </div>
                  
                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'clamp(12px, 4vw, 16px)', marginBottom: 'clamp(12px, 4vw, 16px)' }}>
                    <div>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '0 0 4px 0' }}>Price</p>
                      <p style={{ fontSize: 'clamp(20px, 6vw, 24px)', fontWeight: 'bold', color: '#22c55e', margin: 0 }}>
                        ${stockData[ticker].price}
                      </p>
                    </div>
                    <div>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '0 0 4px 0' }}>Change</p>
                      <p style={{ fontSize: 'clamp(16px, 4vw, 18px)', fontWeight: 'bold', color: stockData[ticker].change >= 0 ? '#22c55e' : '#ef4444', margin: 0 }}>
                        {stockData[ticker].change >= 0 ? '+' : ''}{stockData[ticker].change} ({stockData[ticker].changePercent}%)
                      </p>
                    </div>
                    <div>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '0 0 4px 0' }}>Volume</p>
                      <p style={{ fontSize: 'clamp(16px, 4vw, 18px)', margin: 0 }}>{stockData[ticker].volume}M</p>
                    </div>
                    <div>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '0 0 4px 0' }}>High/Low</p>
                      <p style={{ fontSize: 'clamp(14px, 3.5vw, 16px)', margin: 0 }}>${stockData[ticker].high}/${stockData[ticker].low}</p>
                    </div>
                  </div>

                  {currentAnalysis && (
                    <div style={{ padding: 'clamp(10px, 3vw, 12px)', backgroundColor: '#faf5ff', borderRadius: 'clamp(6px, 2vw, 8px)' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)', marginBottom: 'clamp(6px, 2vw, 8px)' }}>
                        <span style={{ fontSize: 'clamp(18px, 5vw, 20px)' }}>üß†</span>
                        <span style={{ fontWeight: 'bold', color: '#7c3aed', fontSize: 'clamp(14px, 3.5vw, 16px)' }}>Rolo's Market Analysis</span>
                      </div>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#374151', marginBottom: 'clamp(6px, 2vw, 8px)' }}>
                        {currentAnalysis.reasoning}
                      </p>
                      <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: 'clamp(12px, 3vw, 14px)', flexWrap: 'wrap', gap: 'clamp(8px, 2vw, 12px)' }}>
                        <span>Confidence: <strong>{currentAnalysis.confidence}%</strong></span>
                        <span style={{ 
                          fontWeight: 'bold',
                          color: currentAnalysis.recommendation === 'BULLISH' ? '#22c55e' : '#ef4444'
                        }}>
                          {currentAnalysis.recommendation}
                        </span>
                      </div>
                      {currentAnalysis.priceTargets && (
                        <div style={{ marginTop: 'clamp(8px, 2vw, 10px)', fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280' }}>
                          Support: ${currentAnalysis.priceTargets.support} | Resistance: ${currentAnalysis.priceTargets.resistance}
                        </div>
                      )}
                    </div>
                  )}
                </div>
              )}

              {/* Multiple Watchlists Section */}
              <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 'clamp(12px, 4vw, 16px)' }}>
                  <h4 style={{ fontWeight: 'bold', margin: 0, fontSize: 'clamp(14px, 3.5vw, 16px)' }}>Your Watchlists</h4>
                  <button
                    onClick={() => setShowNewWatchlistInput(!showNewWatchlistInput)}
                    style={{
                      backgroundColor: '#7c3aed',
                        color: 'white',
                      padding: 'clamp(6px, 2vw, 8px) clamp(10px, 3vw, 12px)',
                      border: 'none',
                      borderRadius: 'clamp(4px, 1.5vw, 6px)',
                      cursor: 'pointer',
                      fontSize: 'clamp(12px, 3vw, 14px)'
                    }}
                  >
                    + New List
                  </button>
                </div>

                {/* New Watchlist Input */}
                {showNewWatchlistInput && (
                  <div style={{ marginBottom: 'clamp(12px, 4vw, 16px)', display: 'flex', gap: 'clamp(6px, 2vw, 8px)' }}>
                    <input
                      type="text"
                      value={newWatchlistName}
                      onChange={(e) => setNewWatchlistName(e.target.value)}
                      onKeyPress={(e) => e.key === 'Enter' && createNewWatchlist()}
                      placeholder="Watchlist name..."
                      style={{
                        flex: 1,
                        padding: 'clamp(8px, 2vw, 10px)',
                        border: '1px solid #d1d5db',
                        borderRadius: 'clamp(4px, 1.5vw, 6px)',
                        outline: 'none',
                        fontSize: 'clamp(12px, 3vw, 14px)'
                      }}
                    />
                    <button
                      onClick={createNewWatchlist}
                      style={{
                        backgroundColor: '#22c55e',
                        color: 'white',
                        padding: 'clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px)',
                        border: 'none',
                        borderRadius: 'clamp(4px, 1.5vw, 6px)',
                        cursor: 'pointer',
                        fontSize: 'clamp(12px, 3vw, 14px)'
                      }}
                    >
                      Create
                    </button>
                  </div>
                )}

                {/* Watchlist Tabs */}
                <div style={{ display: 'flex', flexWrap: 'wrap', gap: 'clamp(6px, 2vw, 8px)', marginBottom: 'clamp(12px, 4vw, 16px)' }} onClick={closeAllMenus}>
                  {Object.keys(watchlists).map(listName => (
                    <div key={listName} style={{ display: 'flex', alignItems: 'center', position: 'relative' }}>
                      <button
                        onClick={(e) => {
                          e.stopPropagation();
                          setActiveWatchlist(listName);
                        }}
                        style={{
                          padding: 'clamp(6px, 2vw, 8px) clamp(10px, 3vw, 12px)',
                          border: activeWatchlist === listName ? '2px solid #7c3aed' : '1px solid #d1d5db',
                          borderRadius: 'clamp(4px, 1.5vw, 6px)',
                          backgroundColor: activeWatchlist === listName ? '#faf5ff' : '#f9fafb',
                          color: activeWatchlist === listName ? '#7c3aed' : '#374151',
                          cursor: 'pointer',
                          fontSize: 'clamp(12px, 3vw, 14px)',
                          fontWeight: activeWatchlist === listName ? 'bold' : 'normal',
                          display: 'flex',
                          alignItems: 'center',
                          gap: 'clamp(4px, 1vw, 6px)'
                        }}
                      >
                        <span>{listName} ({watchlists[listName].length})</span>
                        {Object.keys(watchlists).length > 1 && (
                          <button
                            onClick={(e) => {
                              e.stopPropagation();
                              toggleWatchlistMenu(listName);
                            }}
                            style={{
                              backgroundColor: 'transparent',
                              border: 'none',
                              color: '#6b7280',
                              cursor: 'pointer',
                              fontSize: 'clamp(12px, 3vw, 14px)',
                              padding: '2px',
                              marginLeft: 'clamp(4px, 1vw, 6px)'
                            }}
                          >
                            ‚ãÆ
                          </button>
                        )}
                      </button>
                      
                      {/* Watchlist dropdown menu */}
                      {openWatchlistMenus[listName] && Object.keys(watchlists).length > 1 && (
                        <div style={{
                          position: 'absolute',
                          top: '100%',
                          right: 0,
                          backgroundColor: 'white',
                          border: '1px solid #e5e7eb',
                          borderRadius: 'clamp(6px, 2vw, 8px)',
                          boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',
                          zIndex: 10,
                          minWidth: '140px',
                          marginTop: '4px'
                        }}>
                          <button
                            onClick={(e) => {
                              e.stopPropagation();
                              setActiveWatchlist(listName);
                              closeAllMenus();
                            }}
                            style={{
                              width: '100%',
                              padding: 'clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px)',
                              border: 'none',
                              backgroundColor: 'transparent',
                              textAlign: 'left',
                              cursor: 'pointer',
                              fontSize: 'clamp(12px, 3vw, 14px)',
                              color: '#374151',
                              borderBottom: '1px solid #f3f4f6'
                            }}
                            onMouseOver={(e) => e.target.style.backgroundColor = '#f9fafb'}
                            onMouseOut={(e) => e.target.style.backgroundColor = 'transparent'}
                          >
                            üìÇ Make Active
                          </button>
                          <button
                            onClick={(e) => {
                              e.stopPropagation();
                              deleteWatchlist(listName);
                            }}
                            style={{
                              width: '100%',
                              padding: 'clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px)',
                              border: 'none',
                              backgroundColor: 'transparent',
                              textAlign: 'left',
                              cursor: 'pointer',
                              fontSize: 'clamp(12px, 3vw, 14px)',
                              color: '#dc2626'
                            }}
                            onMouseOver={(e) => e.target.style.backgroundColor = '#fee2e2'}
                            onMouseOut={(e) => e.target.style.backgroundColor = 'transparent'}
                          >
                            üóëÔ∏è Delete List
                          </button>
                        </div>
                      )}
                    </div>
                  ))}
                </div>

                {/* Add Ticker to Current Watchlist */}
                <div style={{ marginBottom: 'clamp(12px, 4vw, 16px)', display: 'flex', gap: 'clamp(6px, 2vw, 8px)' }}>
                  <input
                    type="text"
                    value={newTickerInput}
                    onChange={(e) => setNewTickerInput(e.target.value.toUpperCase())}
                    onKeyPress={(e) => e.key === 'Enter' && addTickerToWatchlist()}
                    placeholder={`Add ticker to ${activeWatchlist}...`}
                    style={{
                      flex: 1,
                      padding: 'clamp(8px, 2vw, 10px)',
                      border: '1px solid #d1d5db',
                      borderRadius: 'clamp(4px, 1.5vw, 6px)',
                      outline: 'none',
                      fontSize: 'clamp(12px, 3vw, 14px)'
                    }}
                  />
                  <button
                    onClick={addTickerToWatchlist}
                    style={{
                      backgroundColor: '#7c3aed',
                      color: 'white',
                      padding: 'clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px)',
                      border: 'none',
                      borderRadius: 'clamp(4px, 1.5vw, 6px)',
                      cursor: 'pointer',
                      fontSize: 'clamp(12px, 3vw, 14px)'
                    }}
                  >
                    Add
                  </button>
                </div>

                {/* Current Watchlist Tickers */}
                <div style={{ display: 'flex', flexDirection: 'column', gap: 'clamp(6px, 2vw, 8px)' }} onClick={closeAllMenus}>
                  {watchlists[activeWatchlist].map(symbol => (
                    <div 
                      key={symbol} 
                      style={{ 
                        display: 'flex', 
                        justifyContent: 'space-between', 
                        alignItems: 'center', 
                        padding: 'clamp(10px, 3vw, 12px)', 
                        border: '1px solid #e5e7eb', 
                        borderRadius: 'clamp(6px, 2vw, 8px)',
                        backgroundColor: '#f9fafb',
                        position: 'relative'
                      }}
                    >
                      <div 
                        onClick={(e) => {
                          e.stopPropagation();
                          setTicker(symbol);
                          handleTickerSubmit();
                        }}
                        style={{ cursor: 'pointer', flex: 1 }}
                      >
                        <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(8px, 2vw, 12px)' }}>
                          <div>
                            <span style={{ fontWeight: 'bold', fontSize: 'clamp(14px, 3.5vw, 16px)' }}>{symbol}</span>
                            <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '4px 0 0 0' }}>
                              {stockData[symbol] ? `$${stockData[symbol].price} (${stockData[symbol].changePercent >= 0 ? '+' : ''}${stockData[symbol].changePercent}%)` : 'Click to analyze'}
                            </p>
                          </div>
                        </div>
                      </div>
                      <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(8px, 2vw, 12px)' }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '4px', fontSize: 'clamp(10px, 2.5vw, 12px)', color: '#6b7280' }}>
                          <div style={{ width: 'clamp(6px, 2vw, 8px)', height: 'clamp(6px, 2vw, 8px)', backgroundColor: stockData[symbol] ? '#22c55e' : '#7c3aed', borderRadius: '50%' }}></div>
                          <span>{stockData[symbol] ? 'Live' : 'Watching'}</span>
                        </div>
                        
                        {/* Three-dot menu */}
                        <div style={{ position: 'relative' }}>
                          <button
                            onClick={(e) => {
                              e.stopPropagation();
                              toggleMenu(symbol);
                            }}
                            style={{
                              backgroundColor: 'transparent',
                              border: 'none',
                              color: '#6b7280',
                              cursor: 'pointer',
                              fontSize: 'clamp(16px, 4vw, 18px)',
                              padding: 'clamp(4px, 1vw, 6px)',
                              borderRadius: 'clamp(4px, 1.5vw, 6px)',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center'
                            }}
                          >
                            ‚ãÆ
                          </button>
                          
                          {/* Dropdown menu */}
                          {openMenus[symbol] && (
                            <div style={{
                              position: 'absolute',
                              top: '100%',
                              right: 0,
                              backgroundColor: 'white',
                              border: '1px solid #e5e7eb',
                              borderRadius: 'clamp(6px, 2vw, 8px)',
                              boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',
                              zIndex: 10,
                              minWidth: '120px',
                              marginTop: '4px'
                            }}>
                              <button
                                onClick={(e) => {
                                  e.stopPropagation();
                                  setTicker(symbol);
                                  handleTickerSubmit();
                                  closeAllMenus();
                                }}
                                style={{
                                  width: '100%',
                                  padding: 'clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px)',
                                  border: 'none',
                                  backgroundColor: 'transparent',
                                  textAlign: 'left',
                                  cursor: 'pointer',
                                  fontSize: 'clamp(12px, 3vw, 14px)',
                                  color: '#374151',
                                  borderBottom: '1px solid #f3f4f6'
                                }}
                                onMouseOver={(e) => e.target.style.backgroundColor = '#f9fafb'}
                                onMouseOut={(e) => e.target.style.backgroundColor = 'transparent'}
                              >
                                üìä Analyze
                              </button>
                              <button
                                onClick={(e) => {
                                  e.stopPropagation();
                                  removeTickerFromWatchlist(symbol);
                                }}
                                style={{
                                  width: '100%',
                                  padding: 'clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px)',
                                  border: 'none',
                                  backgroundColor: 'transparent',
                                  textAlign: 'left',
                                  cursor: 'pointer',
                                  fontSize: 'clamp(12px, 3vw, 14px)',
                                  color: '#dc2626'
                                }}
                                onMouseOver={(e) => e.target.style.backgroundColor = '#fee2e2'}
                                onMouseOut={(e) => e.target.style.backgroundColor = 'transparent'}
                              >
                                üóëÔ∏è Remove
                              </button>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>
                  ))}
                  {watchlists[activeWatchlist].length === 0 && (
                    <div style={{ textAlign: 'center', padding: 'clamp(20px, 5vw, 30px)', color: '#6b7280', fontSize: 'clamp(14px, 3.5vw, 16px)' }}>
                      No tickers in this watchlist yet. Add some above!
                    </div>
                  )}
                </div>
              </div>
            </div>
          );

          const renderAnalysis = () => (
            <div style={{ padding: 'clamp(12px, 4vw, 16px)', overflowY: 'auto' }}>
              <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', marginBottom: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                <h3 style={{ fontSize: 'clamp(16px, 4vw, 18px)', fontWeight: 'bold', marginBottom: 'clamp(12px, 4vw, 16px)' }}>Live Options Chain - {ticker || 'SPY'}</h3>
                {currentAnalysis && ticker ? (
                  <div>
                    <div style={{ marginBottom: 'clamp(16px, 4vw, 20px)' }}>
                      <h4 style={{ fontSize: 'clamp(14px, 3.5vw, 16px)', fontWeight: 'bold', marginBottom: 'clamp(8px, 2vw, 10px)' }}>Technical Analysis</h4>
                      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'clamp(12px, 3vw, 16px)' }}>
                        <div>
                          <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '0 0 4px 0' }}>Technical Score</p>
                          <p style={{ fontSize: 'clamp(18px, 4vw, 20px)', fontWeight: 'bold', color: '#7c3aed', margin: 0 }}>
                            {currentAnalysis.technicalScore}/100
                          </p>
                        </div>
                        <div>
                          <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '0 0 4px 0' }}>Sentiment Score</p>
                          <p style={{ fontSize: 'clamp(18px, 4vw, 20px)', fontWeight: 'bold', color: '#7c3aed', margin: 0 }}>
                            {currentAnalysis.sentimentScore}/100
                          </p>
                        </div>
                      </div>
                    </div>
                    <div style={{ padding: 'clamp(12px, 3vw, 16px)', backgroundColor: '#f8fafc', borderRadius: 'clamp(6px, 2vw, 8px)' }}>
                      <p style={{ fontSize: 'clamp(14px, 3.5vw, 16px)', fontWeight: 'bold', marginBottom: 'clamp(8px, 2vw, 10px)' }}>
                        Key Levels for {ticker}
                      </p>
                      <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: 'clamp(12px, 3vw, 14px)' }}>
                        <span>Support: <strong>${currentAnalysis.priceTargets?.support}</strong></span>
                        <span>Resistance: <strong>${currentAnalysis.priceTargets?.resistance}</strong></span>
                      </div>
                    </div>
                  </div>
                ) : (
                  <p style={{ fontSize: 'clamp(14px, 3.5vw, 16px)', color: '#6b7280', textAlign: 'center', padding: 'clamp(20px, 6vw, 40px)' }}>
                    Analyze a stock in the Ticker tab to see detailed options data here.
                  </p>
                )}
              </div>
            </div>
          );

          const renderPlays = () => {
            const highConfidencePlays = getHighConfidencePlays();
            
            return (
              <div style={{ padding: 'clamp(12px, 4vw, 16px)', overflowY: 'auto' }}>
                <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                  <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)', marginBottom: 'clamp(12px, 4vw, 16px)' }}>
                    <span style={{ fontSize: 'clamp(20px, 6vw, 24px)' }}>üß†</span>
                    <h3 style={{ fontSize: 'clamp(16px, 4vw, 18px)', fontWeight: 'bold', margin: 0 }}>Rolo's High Confidence Plays</h3>
                  </div>
                  
                  {highConfidencePlays.length === 0 ? (
                    <div style={{ textAlign: 'center', padding: 'clamp(30px, 8vw, 40px)', color: '#6b7280' }}>
                      <p style={{ fontSize: 'clamp(16px, 4vw, 18px)', marginBottom: 'clamp(10px, 3vw, 12px)' }}>üîç</p>
                      <p style={{ fontSize: 'clamp(14px, 3.5vw, 16px)', marginBottom: 'clamp(8px, 2vw, 10px)' }}>No High Confidence Plays Yet</p>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)' }}>Analyze some stocks in the Ticker tab to generate AI-powered plays!</p>
                    </div>
                  ) : (
                    <div style={{ display: 'flex', flexDirection: 'column', gap: 'clamp(10px, 3vw, 12px)' }}>
                      {highConfidencePlays.map((play, index) => (
                        <div key={index} style={{ border: '1px solid #e5e7eb', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)' }}>
                          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: 'clamp(10px, 3vw, 12px)' }}>
                            <div>
                              <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)', marginBottom: '4px', flexWrap: 'wrap' }}>
                                <span style={{ fontSize: 'clamp(16px, 4vw, 20px)', fontWeight: 'bold' }}>{play.symbol}</span>
                                <span style={{
                                  padding: '4px 8px',
                                  borderRadius: '4px',
                                  fontSize: 'clamp(10px, 2.5vw, 12px)',
                                  fontWeight: 'bold',
                                  backgroundColor: play.type === 'Call' ? '#dcfce7' : '#fee2e2',
                                  color: play.type === 'Call' ? '#166534' : '#dc2626'
                                }}>
                                  {play.type}
                                </span>
                                <span style={{ fontSize: 'clamp(10px, 2.5vw, 12px)', backgroundColor: '#f3f4f6', padding: '4px 8px', borderRadius: '4px' }}>
                                  {play.dte}DTE
                                </span>
                                <span style={{ fontSize: 'clamp(10px, 2.5vw, 12px)', backgroundColor: '#dcfce7', color: '#166534', padding: '4px 8px', borderRadius: '4px' }}>
                                  Live Analysis
                                </span>
                              </div>
                              <p style={{ fontSize: 'clamp(14px, 3.5vw, 18px)', fontWeight: 'bold', margin: '4px 0' }}>${play.strike} Strike</p>
                              <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '4px 0' }}>
                                Current: ${play.currentPrice} ({parseFloat(play.changePercent) >= 0 ? '+' : ''}{play.changePercent}%)
                              </p>
                            </div>
                            <div style={{ textAlign: 'right' }}>
                              <div style={{ 
                                fontSize: 'clamp(18px, 5vw, 24px)', 
                                fontWeight: 'bold',
                                color: play.confidence > 80 ? '#22c55e' : '#eab308'
                              }}>
                                {play.confidence}%
                              </div>
                              <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280', margin: '4px 0 0 0' }}>Confidence</p>
                            </div>
                          </div>
                          
                          <p style={{ fontSize: 'clamp(12px, 3vw, 14px)', color: '#374151', marginBottom: 'clamp(10px, 3vw, 12px)' }}>{play.reason}</p>
                          
                          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: 'clamp(8px, 2vw, 12px)' }}>
                            <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)', fontSize: 'clamp(12px, 3vw, 14px)', color: '#6b7280' }}>
                              <span>üß†</span>
                              <span>Rolo AI Analysis</span>
                            </div>
                            <button style={{
                              backgroundColor: '#7c3aed',
                              color: 'white',
                              padding: 'clamp(6px, 2vw, 8px) clamp(10px, 3vw, 12px)',
                              border: 'none',
                              borderRadius: 'clamp(4px, 1.5vw, 6px)',
                              fontSize: 'clamp(12px, 3vw, 14px)',
                              cursor: 'pointer'
                            }}>
                              Set Alert
                            </button>
                          </div>
                        </div>
                      ))}
                    </div>
                  )}
                </div>
              </div>
            );
          };

          const renderNotifications = () => {
            const highConfidencePlays = getHighConfidencePlays();
            const recentAlerts = [];
            
            // Generate dynamic alerts based on analyzed stocks
            Object.entries(analysisResults).forEach(([symbol, analysis]) => {
              if (analysis.confidence >= 80) {
                recentAlerts.push({
                  type: 'high-confidence',
                  title: 'üéØ High Confidence Play',
                  message: `${symbol} ${analysis.recommendation.toLowerCase()} signal - ${analysis.confidence}% confidence`,
                  time: 'Just now',
                  color: '#22c55e'
                });
              }
              
              if (stockData[symbol] && Math.abs(parseFloat(stockData[symbol].changePercent)) > 2) {
                recentAlerts.push({
                  type: 'unusual-activity',
                  title: 'üìä Unusual Movement',
                  message: `${symbol} moving ${stockData[symbol].changePercent >= 0 ? 'up' : 'down'} ${Math.abs(stockData[symbol].changePercent)}%`,
                  time: '2 minutes ago',
                  color: '#7c3aed'
                });
              }
            });
            
            // Default alerts if no analysis yet
            if (recentAlerts.length === 0) {
              recentAlerts.push(
                {
                  type: 'system',
                  title: '‚úÖ System Online',
                  message: 'Advanced market simulation & AI analysis active',
                  time: 'Just now',
                  color: '#22c55e'
                },
                {
                  type: 'data',
                  title: 'üìä Market Data Active',
                  message: 'Realistic price simulation with market trends',
                  time: '2 minutes ago',
                  color: '#7c3aed'
                }
              );
            }
            
            return (
              <div style={{ padding: 'clamp(12px, 4vw, 16px)', overflowY: 'auto' }}>
                <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', marginBottom: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                  <h3 style={{ fontSize: 'clamp(16px, 4vw, 18px)', fontWeight: 'bold', marginBottom: 'clamp(12px, 4vw, 16px)' }}>Rolo's Alert Settings</h3>
                  <div style={{ display: 'flex', flexDirection: 'column', gap: 'clamp(10px, 3vw, 12px)' }}>
                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                      <span style={{ fontSize: 'clamp(14px, 3.5vw, 16px)' }}>High Confidence Plays (80%+)</span>
                      <input type="checkbox" defaultChecked style={{ width: 'clamp(14px, 4vw, 16px)', height: 'clamp(14px, 4vw, 16px)' }} />
                    </div>
                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                      <span style={{ fontSize: 'clamp(14px, 3.5vw, 16px)' }}>Unusual Price Movement (2%+)</span>
                      <input type="checkbox" defaultChecked style={{ width: 'clamp(14px, 4vw, 16px)', height: 'clamp(14px, 4vw, 16px)' }} />
                    </div>
                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                      <span style={{ fontSize: 'clamp(14px, 3.5vw, 16px)' }}>Watchlist Stock Alerts</span>
                      <input type="checkbox" defaultChecked style={{ width: 'clamp(14px, 4vw, 16px)', height: 'clamp(14px, 4vw, 16px)' }} />
                    </div>
                    <div style={{ display:
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                      <span style={{ fontSize: 'clamp(14px, 3.5vw, 16px)' }}>AI Analysis Updates</span>
                      <input type="checkbox" defaultChecked style={{ width: 'clamp(14px, 4vw, 16px)', height: 'clamp(14px, 4vw, 16px)' }} />
                    </div>
                  </div>
                </div>

                <div style={{ backgroundColor: 'white', borderRadius: 'clamp(6px, 2vw, 8px)', padding: 'clamp(12px, 4vw, 16px)', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>
                  <h3 style={{ fontSize: 'clamp(16px, 4vw, 18px)', fontWeight: 'bold', marginBottom: 'clamp(12px, 4vw, 16px)' }}>Recent Rolo Alerts</h3>
                  
                  {recentAlerts.length === 0 ? (
                    <div style={{ textAlign: 'center', padding: 'clamp(30px, 8vw, 40px)', color: '#6b7280' }}>
                      <p style={{ fontSize: 'clamp(16px, 4vw, 18px)', marginBottom: 'clamp(10px, 3vw, 12px)' }}>üîî</p>
                      <p style={{ fontSize: 'clamp(14px, 3.5vw, 16px)', marginBottom: 'clamp(8px, 2vw, 10px)' }}>No Recent Alerts</p>
                      <p style={{ fontSize: 'clamp(12px, 3vw, 14px)' }}>Analyze stocks to generate AI-powered alerts!</p>
                    </div>
                  ) : (
                    <div style={{ display: 'flex', flexDirection: 'column', gap: 'clamp(10px, 3vw, 12px)' }}>
                      {recentAlerts.slice(0, 5).map((alert, index) => (
                        <div key={index} style={{ 
                          padding: 'clamp(10px, 3vw, 12px)', 
                          backgroundColor: alert.color === '#22c55e' ? '#dcfce7' : '#faf5ff', 
                          borderLeft: `4px solid ${alert.color}`, 
                          borderRadius: 'clamp(4px, 1.5vw, 6px)' 
                        }}>
                          <p style={{ 
                            fontWeight: 'bold', 
                            color: alert.color === '#22c55e' ? '#166534' : '#7c3aed', 
                            margin: '0 0 4px 0', 
                            fontSize: 'clamp(14px, 3.5vw, 16px)' 
                          }}>
                            {alert.title}
                          </p>
                          <p style={{ 
                            fontSize: 'clamp(12px, 3vw, 14px)', 
                            color: alert.color === '#22c55e' ? '#15803d' : '#6d28d9', 
                            margin: '0 0 4px 0' 
                          }}>
                            {alert.message}
                          </p>
                          <p style={{ fontSize: 'clamp(10px, 2.5vw, 12px)', color: '#6b7280', margin: 0 }}>
                            {alert.time}
                          </p>
                        </div>
                      ))}
                    </div>
                  )}
                </div>
              </div>
            );
          };

          return (
            <div style={{ 
              width: '100vw',
              height: '100vh', 
              display: 'flex', 
              flexDirection: 'column', 
              backgroundColor: '#f8fafc',
              fontFamily: 'system-ui, -apple-system, sans-serif',
              margin: 0,
              padding: 0,
              overflow: 'hidden'
            }}>
              {/* Header */}
              <div style={{ 
                background: 'linear-gradient(to right, #7c3aed, #6366f1)', 
                color: 'white', 
                padding: 'clamp(12px, 4vw, 16px)',
                boxShadow: '0 4px 6px rgba(0,0,0,0.1)',
                minHeight: 'clamp(60px, 15vw, 80px)',
                display: 'flex',
                flexDirection: 'column',
                justifyContent: 'center'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                  <h1 style={{ fontSize: 'clamp(18px, 5vw, 20px)', fontWeight: 'bold', margin: 0 }}>ü§ñ Rolo AI Trading</h1>
                  <div style={{ display: 'flex', alignItems: 'center', gap: 'clamp(6px, 2vw, 8px)' }}>
                    <div style={{ 
                      width: 'clamp(10px, 3vw, 12px)', 
                      height: 'clamp(10px, 3vw, 12px)', 
                      backgroundColor: apiConnected ? '#22c55e' : '#eab308', 
                      borderRadius: '50%' 
                    }}></div>
                    <span style={{ fontSize: 'clamp(12px, 3vw, 14px)' }}>{apiConnected ? 'Live APIs' : 'Connecting'}</span>
                  </div>
                </div>
                <p style={{ color: '#c4b5fd', fontSize: 'clamp(12px, 3vw, 14px)', margin: '4px 0 0 0' }}>Your AI Trading Assistant with Real APIs</p>
              </div>

              {/* Main Content */}
              <div style={{ flex: 1, overflow: 'hidden' }}>
                {currentTab === 'chat' && renderChat()}
                {currentTab === 'ticker' && renderTicker()}
                {currentTab === 'analysis' && renderAnalysis()}
                {currentTab === 'plays' && renderPlays()}
                {currentTab === 'notifications' && renderNotifications()}
              </div>

              {/* Bottom Navigation */}
              <div style={{ 
                backgroundColor: 'white', 
                borderTop: '1px solid #e5e7eb', 
                boxShadow: '0 -2px 4px rgba(0,0,0,0.1)',
                minHeight: 'clamp(70px, 18vw, 90px)',
                display: 'flex',
                alignItems: 'center'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-around', padding: 'clamp(6px, 2vw, 8px)', width: '100%' }}>
                  {[
                    { id: 'chat', icon: 'üí¨', label: 'Chat' },
                    { id: 'ticker', icon: 'üîç', label: 'Ticker' },
                    { id: 'analysis', icon: 'üìä', label: 'Analysis' },
                    { id: 'plays', icon: 'üìà', label: 'Plays' },
                    { id: 'notifications', icon: 'üîî', label: 'Alerts' }
                  ].map((tab) => (
                    <button
                      key={tab.id}
                      onClick={() => setCurrentTab(tab.id)}
                      style={{
                        display: 'flex',
                        flexDirection: 'column',
                        alignItems: 'center',
                        padding: 'clamp(6px, 2vw, 8px)',
                        border: 'none',
                        borderRadius: 'clamp(6px, 2vw, 8px)',
                        backgroundColor: currentTab === tab.id ? '#faf5ff' : 'transparent',
                        color: currentTab === tab.id ? '#7c3aed' : '#6b7280',
                        cursor: 'pointer',
                        fontSize: 'clamp(10px, 2.5vw, 12px)',
                        minWidth: 'clamp(60px, 15vw, 80px)',
                        minHeight: 'clamp(50px, 12vw, 60px)'
                      }}
                    >
                      <span style={{ fontSize: 'clamp(16px, 4vw, 20px)', marginBottom: '2px' }}>{tab.icon}</span>
                      <span>{tab.label}</span>
                    </button>
                  ))}
                </div>
              </div>
            </div>
          );
        };
        
        ReactDOM.render(React.createElement(RoloApp), document.getElementById('root'));
    </script>
</body>
</html>
                        
